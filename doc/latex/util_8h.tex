\hypertarget{util_8h}{}\doxysection{c\+Torch/operators/default/util.h File Reference}
\label{util_8h}\index{cTorch/operators/default/util.h@{cTorch/operators/default/util.h}}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{util_8h_aae4b1c48c0f08ab34489bcbec7f6bb59}{\+\_\+cpu\+\_\+1d\+\_\+map\+\_\+elewise\+\_\+unary\+\_\+forloop}}( input\+\_\+ptr,  output\+\_\+ptr,  N,  kernel,  type\+\_\+t)
\begin{DoxyCompactList}\small\item\em Conduct unary operation element wise. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_a3742a52b20264476d0683fe021bd0751}{\+\_\+cpu\+\_\+1d\+\_\+map\+\_\+elewise\+\_\+binary\+\_\+forloop}}( input\+\_\+ptr\+\_\+a,  input\+\_\+ptr\+\_\+b,  output\+\_\+ptr,  N,  kernel,  type\+\_\+t)
\begin{DoxyCompactList}\small\item\em Conduct binary operation element wise. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_aebc46d4306fe1848bbedeaab5f446eab}{\+\_\+cpu\+\_\+1d\+\_\+map\+\_\+elewise\+\_\+unary}}(input\+\_\+ptr,  output\+\_\+ptr,  data\+\_\+type,  N,  kernel)
\begin{DoxyCompactList}\small\item\em Apply 1D unary kernel on input and output pointers in element wise way. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_a4a101e1b53a2f6e43bf153a5b993aff6}{\+\_\+cpu\+\_\+1d\+\_\+map\+\_\+elewise\+\_\+unary\+\_\+generic}}( input\+\_\+ptr,  output\+\_\+ptr,  data\+\_\+type,  N,  kernel)
\begin{DoxyCompactList}\small\item\em Generic compute elewise unary. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_a022ef19aabf55739b3b1bad6bf494b54}{\+\_\+cpu\+\_\+1d\+\_\+map\+\_\+elewise\+\_\+binary}}( input\+\_\+ptr\+\_\+a,  input\+\_\+ptr\+\_\+b,  output\+\_\+ptr,  data\+\_\+type,  N,  kernel)
\begin{DoxyCompactList}\small\item\em Apply 1d binary kernel on input and output pointers in element wise way. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_a7223a894b8711d50d98b9fac10c3c1f8}{\+\_\+cpu\+\_\+generic\+\_\+compute}}(op,  compute\+\_\+fn,  data\+\_\+type)
\begin{DoxyCompactList}\small\item\em Expand a computation to a generic type. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_af81ce5d348c5864f4e3ee1e0ed10d7df}{\+\_\+cpu\+\_\+generic\+\_\+compute2}}(op,  compute\+\_\+fn,  input\+\_\+type,  output\+\_\+type)
\begin{DoxyCompactList}\small\item\em Expand a computation to a generic type with input, output type. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_acc61ccd93bc1eff816ced98e712f149e}{\+\_\+cpu\+\_\+bit\+\_\+compute}}(op,  compute\+\_\+fn,  data\+\_\+type)
\begin{DoxyCompactList}\small\item\em Expand a computation to all bit computation supported types. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_a170c704979741a2ff33f8a6137e86a3d}{\+\_\+cpu\+\_\+reduce\+\_\+dim\+\_\+compute}}( op,  reduce\+\_\+action,  input\+\_\+data\+\_\+type,  output\+\_\+data\+\_\+type,  input\+\_\+dtype\+\_\+enum,  output\+\_\+dtype\+\_\+enum)
\begin{DoxyCompactList}\small\item\em General reduce computation. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_adeca2dc389f3c5138435a31f997c8efe}{\+\_\+cput\+\_\+reduce\+\_\+dim\+\_\+generic\+\_\+out\+\_\+type}}( op,  reduce\+\_\+action,  input\+\_\+t,  output\+\_\+data\+\_\+type,  input\+\_\+data\+\_\+type)
\begin{DoxyCompactList}\small\item\em convert output type \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_a1d7fac95c77ed6d4565b53c41424a148}{\+\_\+cpu\+\_\+reduce\+\_\+dim\+\_\+generic}}( op,  input\+\_\+data\+\_\+type,  output\+\_\+data\+\_\+type,  reduce\+\_\+action)
\begin{DoxyCompactList}\small\item\em General logic to do reduce op along a dim. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_a77248167930a7418ac85834b3579d219}{\+\_\+cth\+\_\+sort\+\_\+array\+\_\+inplace}}(array,  data\+\_\+type,  offset,  size)
\begin{DoxyCompactList}\small\item\em Sort an array inplace. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{util_8h_a4a4d765500bcc1776b77aa87d7ba1008}{\+\_\+cth\+\_\+sort\+\_\+array\+\_\+inplace\+\_\+tracking}}( array,  index,  data\+\_\+type,  offset,  size)
\begin{DoxyCompactList}\small\item\em Sort an array in place with index tracking. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{util_8h_a022ef19aabf55739b3b1bad6bf494b54}\label{util_8h_a022ef19aabf55739b3b1bad6bf494b54}} 
\index{util.h@{util.h}!\_cpu\_1d\_map\_elewise\_binary@{\_cpu\_1d\_map\_elewise\_binary}}
\index{\_cpu\_1d\_map\_elewise\_binary@{\_cpu\_1d\_map\_elewise\_binary}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cpu\_1d\_map\_elewise\_binary}{\_cpu\_1d\_map\_elewise\_binary}}
{\footnotesize\ttfamily \#define \+\_\+cpu\+\_\+1d\+\_\+map\+\_\+elewise\+\_\+binary(\begin{DoxyParamCaption}\item[{}]{input\+\_\+ptr\+\_\+a,  }\item[{}]{input\+\_\+ptr\+\_\+b,  }\item[{}]{output\+\_\+ptr,  }\item[{}]{data\+\_\+type,  }\item[{}]{N,  }\item[{}]{kernel }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \{                                                                            \(\backslash\)}
\DoxyCodeLine{    if (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355ac119fd4bedb33831236974862b5ff45e}{CTH\_TENSOR\_DATA\_TYPE\_BOOL}}) \{                              \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_binary\_forloop(                                      \(\backslash\)}
\DoxyCodeLine{          input\_ptr\_a, input\_ptr\_b, output\_ptr, N, kernel, \textcolor{keywordtype}{bool});              \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a7ec2ebe6cf92c44f53ba6d88c3a48816}{CTH\_TENSOR\_DATA\_TYPE\_INT\_16}}) \{                     \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_binary\_forloop(                                      \(\backslash\)}
\DoxyCodeLine{          input\_ptr\_a, input\_ptr\_b, output\_ptr, N, kernel, int16\_t);           \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a37f6d1066978b8597ff2f3601f793fb1}{CTH\_TENSOR\_DATA\_TYPE\_INT\_32}}) \{                     \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_binary\_forloop(                                      \(\backslash\)}
\DoxyCodeLine{          input\_ptr\_a, input\_ptr\_b, output\_ptr, N, kernel, int32\_t);           \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a81804b46c3a09d0379cafc6ed2797c63}{CTH\_TENSOR\_DATA\_TYPE\_INT\_64}}) \{                     \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_binary\_forloop(                                      \(\backslash\)}
\DoxyCodeLine{          input\_ptr\_a, input\_ptr\_b, output\_ptr, N, kernel, int64\_t);           \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a013257b03f9c935a0632870b0a3dc175}{CTH\_TENSOR\_DATA\_TYPE\_UINT\_8}}) \{                     \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_binary\_forloop(                                      \(\backslash\)}
\DoxyCodeLine{          input\_ptr\_a, input\_ptr\_b, output\_ptr, N, kernel, uint8\_t);           \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a5304679a46753a9c9a651fc4600e9d2f}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_16}}) \{                   \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_binary\_forloop(                                      \(\backslash\)}
\DoxyCodeLine{          input\_ptr\_a, input\_ptr\_b, output\_ptr, N, kernel, \textcolor{keywordtype}{float});             \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3c2141e561fafc5c113a1e0f74ee8494}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_32}}) \{                   \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_binary\_forloop(                                      \(\backslash\)}
\DoxyCodeLine{          input\_ptr\_a, input\_ptr\_b, output\_ptr, N, kernel, \textcolor{keywordtype}{float});             \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3b3e271ef78a842c489769d06a245984}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_64}}) \{                   \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_binary\_forloop(                                      \(\backslash\)}
\DoxyCodeLine{          input\_ptr\_a, input\_ptr\_b, output\_ptr, N, kernel, \textcolor{keywordtype}{double});            \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \{                                                                   \(\backslash\)}
\DoxyCodeLine{      FAIL\_EXIT(                                                               \(\backslash\)}
\DoxyCodeLine{          \mbox{\hyperlink{logger__util_8h_ad9ab19b2b3e07e3ac860411d60ae4e52}{CTH\_LOG\_ERR}}, \textcolor{stringliteral}{"Unsupported data type in \_cpu\_1d\_map\_elewise\_binary"}); \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}


Apply 1d binary kernel on input and output pointers in element wise way. 

\begin{DoxyNote}{Note}
This one assumes both input have same data types
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em input\+\_\+ptr\+\_\+a} & C pointer, input a \\
\hline
{\em input\+\_\+ptr\+\_\+b} & C pointer, input b \\
\hline
{\em output\+\_\+ptr} & C pointer, output \\
\hline
{\em data\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, input type \\
\hline
{\em N} & cth\+\_\+tensor\+\_\+dim\+\_\+t, num of elements \\
\hline
{\em kernel} & compute function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_a3742a52b20264476d0683fe021bd0751}\label{util_8h_a3742a52b20264476d0683fe021bd0751}} 
\index{util.h@{util.h}!\_cpu\_1d\_map\_elewise\_binary\_forloop@{\_cpu\_1d\_map\_elewise\_binary\_forloop}}
\index{\_cpu\_1d\_map\_elewise\_binary\_forloop@{\_cpu\_1d\_map\_elewise\_binary\_forloop}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cpu\_1d\_map\_elewise\_binary\_forloop}{\_cpu\_1d\_map\_elewise\_binary\_forloop}}
{\footnotesize\ttfamily \#define \+\_\+cpu\+\_\+1d\+\_\+map\+\_\+elewise\+\_\+binary\+\_\+forloop(\begin{DoxyParamCaption}\item[{}]{input\+\_\+ptr\+\_\+a,  }\item[{}]{input\+\_\+ptr\+\_\+b,  }\item[{}]{output\+\_\+ptr,  }\item[{}]{N,  }\item[{}]{kernel,  }\item[{}]{type\+\_\+t }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \{                                                                            \(\backslash\)}
\DoxyCodeLine{    type\_t *input\_a\_t = (type\_t *)input\_ptr\_a;                                 \(\backslash\)}
\DoxyCodeLine{    type\_t *input\_b\_t = (type\_t *)input\_ptr\_b;                                 \(\backslash\)}
\DoxyCodeLine{    type\_t *output\_t = (type\_t *)output\_ptr;                                   \(\backslash\)}
\DoxyCodeLine{    for (\textcolor{keywordtype}{int} i = 0; i < N; i++) \{                                              \(\backslash\)}
\DoxyCodeLine{      output\_t[i] = (type\_t)kernel(input\_a\_t[i], input\_b\_t[i]);                \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}


Conduct binary operation element wise. 


\begin{DoxyParams}{Parameters}
{\em input\+\_\+ptr\+\_\+a} & C pointer, input a values \\
\hline
{\em input\+\_\+ptr\+\_\+b} & C pointer, input b values \\
\hline
{\em output\+\_\+ptr} & C pointer, output values \\
\hline
{\em N} & cth\+\_\+tensor\+\_\+dim\+\_\+t, num of elements \\
\hline
{\em kernel} & compute function \\
\hline
{\em type\+\_\+t} & C type \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_aebc46d4306fe1848bbedeaab5f446eab}\label{util_8h_aebc46d4306fe1848bbedeaab5f446eab}} 
\index{util.h@{util.h}!\_cpu\_1d\_map\_elewise\_unary@{\_cpu\_1d\_map\_elewise\_unary}}
\index{\_cpu\_1d\_map\_elewise\_unary@{\_cpu\_1d\_map\_elewise\_unary}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cpu\_1d\_map\_elewise\_unary}{\_cpu\_1d\_map\_elewise\_unary}}
{\footnotesize\ttfamily \#define \+\_\+cpu\+\_\+1d\+\_\+map\+\_\+elewise\+\_\+unary(\begin{DoxyParamCaption}\item[{}]{input\+\_\+ptr,  }\item[{}]{output\+\_\+ptr,  }\item[{}]{data\+\_\+type,  }\item[{}]{N,  }\item[{}]{kernel }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \{                                                                            \(\backslash\)}
\DoxyCodeLine{    if (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355ac119fd4bedb33831236974862b5ff45e}{CTH\_TENSOR\_DATA\_TYPE\_BOOL}}) \{                              \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_unary\_forloop(                                       \(\backslash\)}
\DoxyCodeLine{          input\_ptr, output\_ptr, N, kernel, \textcolor{keywordtype}{bool});                             \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a7ec2ebe6cf92c44f53ba6d88c3a48816}{CTH\_TENSOR\_DATA\_TYPE\_INT\_16}}) \{                     \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_unary\_forloop(                                       \(\backslash\)}
\DoxyCodeLine{          input\_ptr, output\_ptr, N, kernel, int16\_t);                          \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a37f6d1066978b8597ff2f3601f793fb1}{CTH\_TENSOR\_DATA\_TYPE\_INT\_32}}) \{                     \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_unary\_forloop(                                       \(\backslash\)}
\DoxyCodeLine{          input\_ptr, output\_ptr, N, kernel, int32\_t);                          \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a81804b46c3a09d0379cafc6ed2797c63}{CTH\_TENSOR\_DATA\_TYPE\_INT\_64}}) \{                     \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_unary\_forloop(                                       \(\backslash\)}
\DoxyCodeLine{          input\_ptr, output\_ptr, N, kernel, int64\_t);                          \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a013257b03f9c935a0632870b0a3dc175}{CTH\_TENSOR\_DATA\_TYPE\_UINT\_8}}) \{                     \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_unary\_forloop(                                       \(\backslash\)}
\DoxyCodeLine{          input\_ptr, output\_ptr, N, kernel, uint8\_t);                          \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a5304679a46753a9c9a651fc4600e9d2f}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_16}}) \{                   \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_unary\_forloop(                                       \(\backslash\)}
\DoxyCodeLine{          input\_ptr, output\_ptr, N, kernel, \textcolor{keywordtype}{float});                            \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3c2141e561fafc5c113a1e0f74ee8494}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_32}}) \{                   \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_unary\_forloop(                                       \(\backslash\)}
\DoxyCodeLine{          input\_ptr, output\_ptr, N, kernel, \textcolor{keywordtype}{float});                            \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3b3e271ef78a842c489769d06a245984}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_64}}) \{                   \(\backslash\)}
\DoxyCodeLine{      \_cpu\_1d\_map\_elewise\_unary\_forloop(                                       \(\backslash\)}
\DoxyCodeLine{          input\_ptr, output\_ptr, N, kernel, \textcolor{keywordtype}{double});                           \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \{                                                                   \(\backslash\)}
\DoxyCodeLine{      FAIL\_EXIT(                                                               \(\backslash\)}
\DoxyCodeLine{          \mbox{\hyperlink{logger__util_8h_ad9ab19b2b3e07e3ac860411d60ae4e52}{CTH\_LOG\_ERR}}, \textcolor{stringliteral}{"Unsupported data type in \_cpu\_1d\_map\_elewise\_unary"});  \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}


Apply 1D unary kernel on input and output pointers in element wise way. 


\begin{DoxyParams}{Parameters}
{\em input\+\_\+ptr} & C pointer, input values \\
\hline
{\em output\+\_\+ptr} & C pointer, output values \\
\hline
{\em data\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, input type \\
\hline
{\em N} & cth\+\_\+tensor\+\_\+dim\+\_\+t, num of elements \\
\hline
{\em kernel} & compute function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_aae4b1c48c0f08ab34489bcbec7f6bb59}\label{util_8h_aae4b1c48c0f08ab34489bcbec7f6bb59}} 
\index{util.h@{util.h}!\_cpu\_1d\_map\_elewise\_unary\_forloop@{\_cpu\_1d\_map\_elewise\_unary\_forloop}}
\index{\_cpu\_1d\_map\_elewise\_unary\_forloop@{\_cpu\_1d\_map\_elewise\_unary\_forloop}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cpu\_1d\_map\_elewise\_unary\_forloop}{\_cpu\_1d\_map\_elewise\_unary\_forloop}}
{\footnotesize\ttfamily \#define \+\_\+cpu\+\_\+1d\+\_\+map\+\_\+elewise\+\_\+unary\+\_\+forloop(\begin{DoxyParamCaption}\item[{}]{input\+\_\+ptr,  }\item[{}]{output\+\_\+ptr,  }\item[{}]{N,  }\item[{}]{kernel,  }\item[{}]{type\+\_\+t }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \{                                                                            \(\backslash\)}
\DoxyCodeLine{    type\_t *input\_t = (type\_t *)input\_ptr;                                     \(\backslash\)}
\DoxyCodeLine{    type\_t *output\_t = (type\_t *)output\_ptr;                                   \(\backslash\)}
\DoxyCodeLine{    for (\textcolor{keywordtype}{int} i = 0; i < N; i++) \{                                              \(\backslash\)}
\DoxyCodeLine{      output\_t[i] = (type\_t)kernel(input\_t[i]);                                \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}


Conduct unary operation element wise. 


\begin{DoxyParams}{Parameters}
{\em input\+\_\+ptr} & C pointer, input values \\
\hline
{\em output\+\_\+ptr} & C pointer, output values \\
\hline
{\em N} & cth\+\_\+tensor\+\_\+dim\+\_\+t, num of elements \\
\hline
{\em kernel} & compute function \\
\hline
{\em type\+\_\+t} & C type \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_a4a101e1b53a2f6e43bf153a5b993aff6}\label{util_8h_a4a101e1b53a2f6e43bf153a5b993aff6}} 
\index{util.h@{util.h}!\_cpu\_1d\_map\_elewise\_unary\_generic@{\_cpu\_1d\_map\_elewise\_unary\_generic}}
\index{\_cpu\_1d\_map\_elewise\_unary\_generic@{\_cpu\_1d\_map\_elewise\_unary\_generic}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cpu\_1d\_map\_elewise\_unary\_generic}{\_cpu\_1d\_map\_elewise\_unary\_generic}}
{\footnotesize\ttfamily \#define \+\_\+cpu\+\_\+1d\+\_\+map\+\_\+elewise\+\_\+unary\+\_\+generic(\begin{DoxyParamCaption}\item[{}]{input\+\_\+ptr,  }\item[{}]{output\+\_\+ptr,  }\item[{}]{data\+\_\+type,  }\item[{}]{N,  }\item[{}]{kernel }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \{                                                                            \(\backslash\)}
\DoxyCodeLine{    if (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355ac119fd4bedb33831236974862b5ff45e}{CTH\_TENSOR\_DATA\_TYPE\_BOOL}}) \{                              \(\backslash\)}
\DoxyCodeLine{      kernel(input\_ptr, output\_ptr, N, \textcolor{keywordtype}{bool});                                  \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a7ec2ebe6cf92c44f53ba6d88c3a48816}{CTH\_TENSOR\_DATA\_TYPE\_INT\_16}}) \{                     \(\backslash\)}
\DoxyCodeLine{      kernel(input\_ptr, output\_ptr, N, int16\_t);                               \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a37f6d1066978b8597ff2f3601f793fb1}{CTH\_TENSOR\_DATA\_TYPE\_INT\_32}}) \{                     \(\backslash\)}
\DoxyCodeLine{      kernel(input\_ptr, output\_ptr, N, int32\_t);                               \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a81804b46c3a09d0379cafc6ed2797c63}{CTH\_TENSOR\_DATA\_TYPE\_INT\_64}}) \{                     \(\backslash\)}
\DoxyCodeLine{      kernel(input\_ptr, output\_ptr, N, int64\_t);                               \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a013257b03f9c935a0632870b0a3dc175}{CTH\_TENSOR\_DATA\_TYPE\_UINT\_8}}) \{                     \(\backslash\)}
\DoxyCodeLine{      kernel(input\_ptr, output\_ptr, N, uint8\_t);                               \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a5304679a46753a9c9a651fc4600e9d2f}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_16}}) \{                   \(\backslash\)}
\DoxyCodeLine{      kernel(input\_ptr, output\_ptr, N, \textcolor{keywordtype}{float});                                 \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3c2141e561fafc5c113a1e0f74ee8494}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_32}}) \{                   \(\backslash\)}
\DoxyCodeLine{      kernel(input\_ptr, output\_ptr, N, \textcolor{keywordtype}{float});                                 \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3b3e271ef78a842c489769d06a245984}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_64}}) \{                   \(\backslash\)}
\DoxyCodeLine{      kernel(input\_ptr, output\_ptr, N, \textcolor{keywordtype}{double});                                \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \{                                                                   \(\backslash\)}
\DoxyCodeLine{      FAIL\_EXIT(                                                               \(\backslash\)}
\DoxyCodeLine{          \mbox{\hyperlink{logger__util_8h_ad9ab19b2b3e07e3ac860411d60ae4e52}{CTH\_LOG\_ERR}},                                                         \(\backslash\)}
\DoxyCodeLine{          \textcolor{stringliteral}{"Unsupported data type in \_cpu\_1d\_map\_elewise\_unary\_generic"});       \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}


Generic compute elewise unary. 


\begin{DoxyParams}{Parameters}
{\em input\+\_\+ptr} & C pointer, input values \\
\hline
{\em output\+\_\+ptr} & C pointer, output values \\
\hline
{\em data\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, input type \\
\hline
{\em N} & cth\+\_\+tensor\+\_\+dim\+\_\+t, num of elements \\
\hline
{\em kernel} & compute function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_acc61ccd93bc1eff816ced98e712f149e}\label{util_8h_acc61ccd93bc1eff816ced98e712f149e}} 
\index{util.h@{util.h}!\_cpu\_bit\_compute@{\_cpu\_bit\_compute}}
\index{\_cpu\_bit\_compute@{\_cpu\_bit\_compute}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cpu\_bit\_compute}{\_cpu\_bit\_compute}}
{\footnotesize\ttfamily \#define \+\_\+cpu\+\_\+bit\+\_\+compute(\begin{DoxyParamCaption}\item[{}]{op,  }\item[{}]{compute\+\_\+fn,  }\item[{}]{data\+\_\+type }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \{                                                                            \(\backslash\)}
\DoxyCodeLine{    if (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355ac119fd4bedb33831236974862b5ff45e}{CTH\_TENSOR\_DATA\_TYPE\_BOOL}}) \{                              \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, \textcolor{keywordtype}{bool});                                                    \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a7ec2ebe6cf92c44f53ba6d88c3a48816}{CTH\_TENSOR\_DATA\_TYPE\_INT\_16}}) \{                     \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, int16\_t);                                                 \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a37f6d1066978b8597ff2f3601f793fb1}{CTH\_TENSOR\_DATA\_TYPE\_INT\_32}}) \{                     \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, int32\_t);                                                 \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a81804b46c3a09d0379cafc6ed2797c63}{CTH\_TENSOR\_DATA\_TYPE\_INT\_64}}) \{                     \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, int64\_t);                                                 \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a013257b03f9c935a0632870b0a3dc175}{CTH\_TENSOR\_DATA\_TYPE\_UINT\_8}}) \{                     \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, uint8\_t);                                                 \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \{                                                                   \(\backslash\)}
\DoxyCodeLine{      FAIL\_EXIT(\mbox{\hyperlink{logger__util_8h_ad9ab19b2b3e07e3ac860411d60ae4e52}{CTH\_LOG\_ERR}}, \textcolor{stringliteral}{"Unsupported data type in \_cpu\_bit\_compute"});     \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}


Expand a computation to all bit computation supported types. 


\begin{DoxyParams}{Parameters}
{\em op} & operator \\
\hline
{\em compute\+\_\+fn} & compute function \\
\hline
{\em data\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, input data type \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_a7223a894b8711d50d98b9fac10c3c1f8}\label{util_8h_a7223a894b8711d50d98b9fac10c3c1f8}} 
\index{util.h@{util.h}!\_cpu\_generic\_compute@{\_cpu\_generic\_compute}}
\index{\_cpu\_generic\_compute@{\_cpu\_generic\_compute}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cpu\_generic\_compute}{\_cpu\_generic\_compute}}
{\footnotesize\ttfamily \#define \+\_\+cpu\+\_\+generic\+\_\+compute(\begin{DoxyParamCaption}\item[{}]{op,  }\item[{}]{compute\+\_\+fn,  }\item[{}]{data\+\_\+type }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \{                                                                            \(\backslash\)}
\DoxyCodeLine{    if (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355ac119fd4bedb33831236974862b5ff45e}{CTH\_TENSOR\_DATA\_TYPE\_BOOL}}) \{                              \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, \textcolor{keywordtype}{bool});                                                    \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a7ec2ebe6cf92c44f53ba6d88c3a48816}{CTH\_TENSOR\_DATA\_TYPE\_INT\_16}}) \{                     \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, int16\_t);                                                 \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a37f6d1066978b8597ff2f3601f793fb1}{CTH\_TENSOR\_DATA\_TYPE\_INT\_32}}) \{                     \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, int32\_t);                                                 \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a81804b46c3a09d0379cafc6ed2797c63}{CTH\_TENSOR\_DATA\_TYPE\_INT\_64}}) \{                     \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, int64\_t);                                                 \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a013257b03f9c935a0632870b0a3dc175}{CTH\_TENSOR\_DATA\_TYPE\_UINT\_8}}) \{                     \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, uint8\_t);                                                 \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a5304679a46753a9c9a651fc4600e9d2f}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_16}}) \{                   \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, \textcolor{keywordtype}{float});                                                   \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3c2141e561fafc5c113a1e0f74ee8494}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_32}}) \{                   \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, \textcolor{keywordtype}{float});                                                   \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3b3e271ef78a842c489769d06a245984}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_64}}) \{                   \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, \textcolor{keywordtype}{double});                                                  \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \{                                                                   \(\backslash\)}
\DoxyCodeLine{      FAIL\_EXIT(\mbox{\hyperlink{logger__util_8h_ad9ab19b2b3e07e3ac860411d60ae4e52}{CTH\_LOG\_ERR}}, \textcolor{stringliteral}{"Unsupported data type in \_cpu\_generic\_compute"}); \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}


Expand a computation to a generic type. 


\begin{DoxyParams}{Parameters}
{\em op} & operator \\
\hline
{\em compute\+\_\+fn} & compute function \\
\hline
{\em data\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, inpute type \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_af81ce5d348c5864f4e3ee1e0ed10d7df}\label{util_8h_af81ce5d348c5864f4e3ee1e0ed10d7df}} 
\index{util.h@{util.h}!\_cpu\_generic\_compute2@{\_cpu\_generic\_compute2}}
\index{\_cpu\_generic\_compute2@{\_cpu\_generic\_compute2}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cpu\_generic\_compute2}{\_cpu\_generic\_compute2}}
{\footnotesize\ttfamily \#define \+\_\+cpu\+\_\+generic\+\_\+compute2(\begin{DoxyParamCaption}\item[{}]{op,  }\item[{}]{compute\+\_\+fn,  }\item[{}]{input\+\_\+type,  }\item[{}]{output\+\_\+type }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \{                                                                            \(\backslash\)}
\DoxyCodeLine{    if (input\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355ac119fd4bedb33831236974862b5ff45e}{CTH\_TENSOR\_DATA\_TYPE\_BOOL}}) \{                             \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, \textcolor{keywordtype}{bool}, input\_type, output\_type);                           \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a7ec2ebe6cf92c44f53ba6d88c3a48816}{CTH\_TENSOR\_DATA\_TYPE\_INT\_16}}) \{                    \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, int16\_t, input\_type, output\_type);                        \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a37f6d1066978b8597ff2f3601f793fb1}{CTH\_TENSOR\_DATA\_TYPE\_INT\_32}}) \{                    \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, int32\_t, input\_type, output\_type);                        \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a81804b46c3a09d0379cafc6ed2797c63}{CTH\_TENSOR\_DATA\_TYPE\_INT\_64}}) \{                    \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, int64\_t, input\_type, output\_type);                        \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a013257b03f9c935a0632870b0a3dc175}{CTH\_TENSOR\_DATA\_TYPE\_UINT\_8}}) \{                    \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, uint8\_t, input\_type, output\_type);                        \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a5304679a46753a9c9a651fc4600e9d2f}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_16}}) \{                  \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, \textcolor{keywordtype}{float}, input\_type, output\_type);                          \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3c2141e561fafc5c113a1e0f74ee8494}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_32}}) \{                  \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, \textcolor{keywordtype}{float}, input\_type, output\_type);                          \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3b3e271ef78a842c489769d06a245984}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_64}}) \{                  \(\backslash\)}
\DoxyCodeLine{      compute\_fn(op, \textcolor{keywordtype}{double}, input\_type, output\_type);                         \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \{                                                                   \(\backslash\)}
\DoxyCodeLine{      FAIL\_EXIT(\mbox{\hyperlink{logger__util_8h_ad9ab19b2b3e07e3ac860411d60ae4e52}{CTH\_LOG\_ERR}}, \textcolor{stringliteral}{"Unsupported data type in \_cpu\_generic\_compute"}); \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}


Expand a computation to a generic type with input, output type. 


\begin{DoxyParams}{Parameters}
{\em op} & operator \\
\hline
{\em compute\+\_\+fn} & compute function \\
\hline
{\em input\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, input type \\
\hline
{\em output\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, output type \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_a170c704979741a2ff33f8a6137e86a3d}\label{util_8h_a170c704979741a2ff33f8a6137e86a3d}} 
\index{util.h@{util.h}!\_cpu\_reduce\_dim\_compute@{\_cpu\_reduce\_dim\_compute}}
\index{\_cpu\_reduce\_dim\_compute@{\_cpu\_reduce\_dim\_compute}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cpu\_reduce\_dim\_compute}{\_cpu\_reduce\_dim\_compute}}
{\footnotesize\ttfamily \#define \+\_\+cpu\+\_\+reduce\+\_\+dim\+\_\+compute(\begin{DoxyParamCaption}\item[{}]{op,  }\item[{}]{reduce\+\_\+action,  }\item[{}]{input\+\_\+data\+\_\+type,  }\item[{}]{output\+\_\+data\+\_\+type,  }\item[{}]{input\+\_\+dtype\+\_\+enum,  }\item[{}]{output\+\_\+dtype\+\_\+enum }\end{DoxyParamCaption})}



General reduce computation. 


\begin{DoxyParams}{Parameters}
{\em op} & operator \\
\hline
{\em reduce\+\_\+action} & reduce function \\
\hline
{\em input\+\_\+data\+\_\+type} & input data C type \\
\hline
{\em output\+\_\+data\+\_\+type} & output data C type \\
\hline
{\em input\+\_\+dtype\+\_\+enum} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, input data type \\
\hline
{\em output\+\_\+dtype\+\_\+enum} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, output data type \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_a1d7fac95c77ed6d4565b53c41424a148}\label{util_8h_a1d7fac95c77ed6d4565b53c41424a148}} 
\index{util.h@{util.h}!\_cpu\_reduce\_dim\_generic@{\_cpu\_reduce\_dim\_generic}}
\index{\_cpu\_reduce\_dim\_generic@{\_cpu\_reduce\_dim\_generic}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cpu\_reduce\_dim\_generic}{\_cpu\_reduce\_dim\_generic}}
{\footnotesize\ttfamily \#define \+\_\+cpu\+\_\+reduce\+\_\+dim\+\_\+generic(\begin{DoxyParamCaption}\item[{}]{op,  }\item[{}]{input\+\_\+data\+\_\+type,  }\item[{}]{output\+\_\+data\+\_\+type,  }\item[{}]{reduce\+\_\+action }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keywordflow}{do} \{                                                                         \(\backslash\)}
\DoxyCodeLine{    if (input\_data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355ac119fd4bedb33831236974862b5ff45e}{CTH\_TENSOR\_DATA\_TYPE\_BOOL}}) \{                        \(\backslash\)}
\DoxyCodeLine{      \_cput\_reduce\_dim\_generic\_out\_type(                                       \(\backslash\)}
\DoxyCodeLine{          op, reduce\_action, \textcolor{keywordtype}{bool}, output\_data\_type, input\_data\_type);         \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a7ec2ebe6cf92c44f53ba6d88c3a48816}{CTH\_TENSOR\_DATA\_TYPE\_INT\_16}}) \{               \(\backslash\)}
\DoxyCodeLine{      \_cput\_reduce\_dim\_generic\_out\_type(                                       \(\backslash\)}
\DoxyCodeLine{          op, reduce\_action, int16\_t, output\_data\_type, input\_data\_type);      \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a37f6d1066978b8597ff2f3601f793fb1}{CTH\_TENSOR\_DATA\_TYPE\_INT\_32}}) \{               \(\backslash\)}
\DoxyCodeLine{      \_cput\_reduce\_dim\_generic\_out\_type(                                       \(\backslash\)}
\DoxyCodeLine{          op, reduce\_action, int32\_t, output\_data\_type, input\_data\_type);      \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a81804b46c3a09d0379cafc6ed2797c63}{CTH\_TENSOR\_DATA\_TYPE\_INT\_64}}) \{               \(\backslash\)}
\DoxyCodeLine{      \_cput\_reduce\_dim\_generic\_out\_type(                                       \(\backslash\)}
\DoxyCodeLine{          op, reduce\_action, int64\_t, output\_data\_type, input\_data\_type);      \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a013257b03f9c935a0632870b0a3dc175}{CTH\_TENSOR\_DATA\_TYPE\_UINT\_8}}) \{               \(\backslash\)}
\DoxyCodeLine{      \_cput\_reduce\_dim\_generic\_out\_type(                                       \(\backslash\)}
\DoxyCodeLine{          op, reduce\_action, uint8\_t, output\_data\_type, input\_data\_type);      \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a5304679a46753a9c9a651fc4600e9d2f}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_16}}) \{             \(\backslash\)}
\DoxyCodeLine{      \_cput\_reduce\_dim\_generic\_out\_type(                                       \(\backslash\)}
\DoxyCodeLine{          op, reduce\_action, \textcolor{keywordtype}{float}, output\_data\_type, input\_data\_type);        \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3c2141e561fafc5c113a1e0f74ee8494}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_32}}) \{             \(\backslash\)}
\DoxyCodeLine{      \_cput\_reduce\_dim\_generic\_out\_type(                                       \(\backslash\)}
\DoxyCodeLine{          op, reduce\_action, \textcolor{keywordtype}{float}, output\_data\_type, input\_data\_type);        \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (input\_data\_type == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a3b3e271ef78a842c489769d06a245984}{CTH\_TENSOR\_DATA\_TYPE\_FLOAT\_64}}) \{             \(\backslash\)}
\DoxyCodeLine{      \_cput\_reduce\_dim\_generic\_out\_type(                                       \(\backslash\)}
\DoxyCodeLine{          op, reduce\_action, \textcolor{keywordtype}{double}, output\_data\_type, input\_data\_type);       \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \{                                                                   \(\backslash\)}
\DoxyCodeLine{      FAIL\_EXIT(\mbox{\hyperlink{logger__util_8h_ad9ab19b2b3e07e3ac860411d60ae4e52}{CTH\_LOG\_ERR}}, \textcolor{stringliteral}{"Unsupported data type in \_cpu\_generic\_compute"}); \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{  \} \textcolor{keywordflow}{while} (0)}

\end{DoxyCode}


General logic to do reduce op along a dim. 


\begin{DoxyParams}{Parameters}
{\em op} & operator \\
\hline
{\em input\+\_\+data\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, input data type \\
\hline
{\em out\+\_\+data\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, output data type \\
\hline
{\em reduce\+\_\+action} & reduce function \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_adeca2dc389f3c5138435a31f997c8efe}\label{util_8h_adeca2dc389f3c5138435a31f997c8efe}} 
\index{util.h@{util.h}!\_cput\_reduce\_dim\_generic\_out\_type@{\_cput\_reduce\_dim\_generic\_out\_type}}
\index{\_cput\_reduce\_dim\_generic\_out\_type@{\_cput\_reduce\_dim\_generic\_out\_type}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cput\_reduce\_dim\_generic\_out\_type}{\_cput\_reduce\_dim\_generic\_out\_type}}
{\footnotesize\ttfamily \#define \+\_\+cput\+\_\+reduce\+\_\+dim\+\_\+generic\+\_\+out\+\_\+type(\begin{DoxyParamCaption}\item[{}]{op,  }\item[{}]{reduce\+\_\+action,  }\item[{}]{input\+\_\+t,  }\item[{}]{output\+\_\+data\+\_\+type,  }\item[{}]{input\+\_\+data\+\_\+type }\end{DoxyParamCaption})}



convert output type 


\begin{DoxyParams}{Parameters}
{\em op} & operator \\
\hline
{\em reduce\+\_\+action} & reduce function \\
\hline
{\em input\+\_\+t} & input data C type \\
\hline
{\em output\+\_\+data\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, output data type \\
\hline
{\em input\+\_\+data\+\_\+type} & C\+T\+H\+\_\+\+T\+E\+N\+S\+O\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+Y\+PE, input data type \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_a77248167930a7418ac85834b3579d219}\label{util_8h_a77248167930a7418ac85834b3579d219}} 
\index{util.h@{util.h}!\_cth\_sort\_array\_inplace@{\_cth\_sort\_array\_inplace}}
\index{\_cth\_sort\_array\_inplace@{\_cth\_sort\_array\_inplace}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cth\_sort\_array\_inplace}{\_cth\_sort\_array\_inplace}}
{\footnotesize\ttfamily \#define \+\_\+cth\+\_\+sort\+\_\+array\+\_\+inplace(\begin{DoxyParamCaption}\item[{}]{array,  }\item[{}]{data\+\_\+type,  }\item[{}]{offset,  }\item[{}]{size }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keywordflow}{do} \{                                                                         \(\backslash\)}
\DoxyCodeLine{                                                                               \(\backslash\)}
\DoxyCodeLine{  \} \textcolor{keywordflow}{while} (0)}

\end{DoxyCode}


Sort an array inplace. 


\begin{DoxyParams}{Parameters}
{\em array} & array pointer \\
\hline
{\em data\+\_\+type} & C type \\
\hline
{\em offset} & int, offset between each element in array\+\_\+ptr \\
\hline
{\em size} & cth\+\_\+array\+\_\+index\+\_\+t, array size \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{util_8h_a4a4d765500bcc1776b77aa87d7ba1008}\label{util_8h_a4a4d765500bcc1776b77aa87d7ba1008}} 
\index{util.h@{util.h}!\_cth\_sort\_array\_inplace\_tracking@{\_cth\_sort\_array\_inplace\_tracking}}
\index{\_cth\_sort\_array\_inplace\_tracking@{\_cth\_sort\_array\_inplace\_tracking}!util.h@{util.h}}
\doxysubsubsection{\texorpdfstring{\_cth\_sort\_array\_inplace\_tracking}{\_cth\_sort\_array\_inplace\_tracking}}
{\footnotesize\ttfamily \#define \+\_\+cth\+\_\+sort\+\_\+array\+\_\+inplace\+\_\+tracking(\begin{DoxyParamCaption}\item[{}]{array,  }\item[{}]{index,  }\item[{}]{data\+\_\+type,  }\item[{}]{offset,  }\item[{}]{size }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keywordflow}{do} \{                                                                         \(\backslash\)}
\DoxyCodeLine{    \_cth\_sort\_array\_inplace(array, data\_type, offset, size);                   \(\backslash\)}
\DoxyCodeLine{                                                                               \(\backslash\)}
\DoxyCodeLine{    for (\mbox{\hyperlink{generic__array_8h_ab65d5f828d04ccd28eef52253e8040d1}{cth\_array\_index\_t}} i = 0; i < size; i++) \{                             \(\backslash\)}
\DoxyCodeLine{      index[i] = i;                                                            \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{                                                                               \(\backslash\)}
\DoxyCodeLine{  \} \textcolor{keywordflow}{while} (0)}

\end{DoxyCode}


Sort an array in place with index tracking. 


\begin{DoxyParams}{Parameters}
{\em array} & array pointer \\
\hline
{\em index} & index pointer \\
\hline
{\em data\+\_\+type} & C type \\
\hline
{\em offset} & int, offset between each element in array\+\_\+ptr \\
\hline
{\em size} & cth\+\_\+array\+\_\+index\+\_\+t, array\+\_\+size \\
\hline
\end{DoxyParams}
