\hypertarget{op__dist__default_8c}{}\doxysection{c\+Torch/operators/default/op\+\_\+dist\+\_\+default.c File Reference}
\label{op__dist__default_8c}\index{cTorch/operators/default/op\_dist\_default.c@{cTorch/operators/default/op\_dist\_default.c}}
{\ttfamily \#include \char`\"{}c\+Torch/operators/default/op\+\_\+list.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}c\+Torch/operators/default/util.\+h\char`\"{}}\newline
{\ttfamily \#include $<$tgmath.\+h$>$}\newline
Include dependency graph for op\+\_\+dist\+\_\+default.\+c\+:
% FIG 0
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{op__dist__default_8c_ad47416db15a4336a040e5690b99de72a}{\+\_\+cth\+\_\+dist}}(op,  data\+\_\+type,  input\+\_\+type\+\_\+enum,  output\+\_\+type\+\_\+enum)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{op__dist__default_8c_aec353530f75b9ed582485833e76d7cc1}{op\+\_\+dist\+\_\+cpu}} (\mbox{\hyperlink{structCTHOperator}{C\+T\+H\+Operator}} $\ast$op)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{op__dist__default_8c_ad47416db15a4336a040e5690b99de72a}\label{op__dist__default_8c_ad47416db15a4336a040e5690b99de72a}} 
\index{op\_dist\_default.c@{op\_dist\_default.c}!\_cth\_dist@{\_cth\_dist}}
\index{\_cth\_dist@{\_cth\_dist}!op\_dist\_default.c@{op\_dist\_default.c}}
\doxysubsubsection{\texorpdfstring{\_cth\_dist}{\_cth\_dist}}
{\footnotesize\ttfamily \#define \+\_\+cth\+\_\+dist(\begin{DoxyParamCaption}\item[{}]{op,  }\item[{}]{data\+\_\+type,  }\item[{}]{input\+\_\+type\+\_\+enum,  }\item[{}]{output\+\_\+type\+\_\+enum }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keywordflow}{do} \{                                                                         \(\backslash\)}
\DoxyCodeLine{    CTHTensor *input\_1 = \mbox{\hyperlink{generic__array_8h_ac901ab85173b85409fea4299ba0e6111}{cth\_array\_at}}(\mbox{\hyperlink{structCTHTensor}{CTHTensor}})(op-\/>in\_bound\_tensors, 0);     \(\backslash\)}
\DoxyCodeLine{    data\_type *input\_ptr\_1 = (data\_type *)input\_1-\/>values;                     \(\backslash\)}
\DoxyCodeLine{    \mbox{\hyperlink{structCTHTensor}{CTHTensor}} *input\_2 = \mbox{\hyperlink{generic__array_8h_ac901ab85173b85409fea4299ba0e6111}{cth\_array\_at}}(\mbox{\hyperlink{structCTHTensor}{CTHTensor}})(op-\/>in\_bound\_tensors, 1);     \(\backslash\)}
\DoxyCodeLine{    data\_type *input\_ptr\_2 = (data\_type *)input\_2-\/>values;                     \(\backslash\)}
\DoxyCodeLine{    \mbox{\hyperlink{structCTHTensor}{CTHTensor}} *output = \mbox{\hyperlink{generic__array_8h_ac901ab85173b85409fea4299ba0e6111}{cth\_array\_at}}(\mbox{\hyperlink{structCTHTensor}{CTHTensor}})(op-\/>out\_bound\_tensors, 0);     \(\backslash\)}
\DoxyCodeLine{    data\_type *output\_ptr = (data\_type *)output-\/>values;                       \(\backslash\)}
\DoxyCodeLine{    \textcolor{keywordtype}{float} *p;                                                                  \(\backslash\)}
\DoxyCodeLine{    \mbox{\hyperlink{params_8h_ac513cf2f45d51f597ea72592b0f32a78}{EXTRACT\_PARAM\_VALUE}}(op, \mbox{\hyperlink{params_8h_ad3e45c2ce529cdb2b57043951fb0954eae260401101a268e4831c6d517504ee0e}{CTH\_PARAM\_TYPE\_P}}, p, p);                           \(\backslash\)}
\DoxyCodeLine{                                                                               \(\backslash\)}
\DoxyCodeLine{    cth\_tensor\_dim\_t N = input-\/>meta\_info-\/>n\_elements;                         \(\backslash\)}
\DoxyCodeLine{    data\_type dist = 0;                                                        \(\backslash\)}
\DoxyCodeLine{    for (\mbox{\hyperlink{consts_8h_acc36bfe0d9496aa5573f4fd4f6cde518}{cth\_tensor\_dim\_t}} i = 0; i < N; i++) \{                                 \(\backslash\)}
\DoxyCodeLine{      dist += pow(fabs((\textcolor{keywordtype}{float})input\_ptr\_1[i] -\/ (\textcolor{keywordtype}{float})input\_ptr\_2[i]), *p);    \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{    if (output\_type\_enum == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a7ec2ebe6cf92c44f53ba6d88c3a48816}{CTH\_TENSOR\_DATA\_TYPE\_INT\_16}} ||                     \(\backslash\)}
\DoxyCodeLine{        output\_type\_enum == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a37f6d1066978b8597ff2f3601f793fb1}{CTH\_TENSOR\_DATA\_TYPE\_INT\_32}} ||                     \(\backslash\)}
\DoxyCodeLine{        output\_type\_enum == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a81804b46c3a09d0379cafc6ed2797c63}{CTH\_TENSOR\_DATA\_TYPE\_INT\_64}} ||                     \(\backslash\)}
\DoxyCodeLine{        output\_type\_enum == \mbox{\hyperlink{consts_8h_a4b8846c2fb1629129ab48cd874d22355a013257b03f9c935a0632870b0a3dc175}{CTH\_TENSOR\_DATA\_TYPE\_UINT\_8}}) \{                     \(\backslash\)}
\DoxyCodeLine{      output\_ptr[0] = round(pow(dist, 1.0 / *p));                              \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{else} \{                                                                   \(\backslash\)}
\DoxyCodeLine{      output\_ptr[0] = (data\_type)pow(dist, 1.0 / *p);                          \(\backslash\)}
\DoxyCodeLine{    \}                                                                          \(\backslash\)}
\DoxyCodeLine{  \} \textcolor{keywordflow}{while} (0);}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{op__dist__default_8c_aec353530f75b9ed582485833e76d7cc1}\label{op__dist__default_8c_aec353530f75b9ed582485833e76d7cc1}} 
\index{op\_dist\_default.c@{op\_dist\_default.c}!op\_dist\_cpu@{op\_dist\_cpu}}
\index{op\_dist\_cpu@{op\_dist\_cpu}!op\_dist\_default.c@{op\_dist\_default.c}}
\doxysubsubsection{\texorpdfstring{op\_dist\_cpu()}{op\_dist\_cpu()}}
{\footnotesize\ttfamily void op\+\_\+dist\+\_\+cpu (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structCTHOperator}{C\+T\+H\+Operator}} $\ast$}]{op }\end{DoxyParamCaption})}

out = p-\/norm dist (input\+\_\+1 -\/ input\+\_\+2)

Op requirement\+:
\begin{DoxyItemize}
\item \# of input tensors\+: 2
\begin{DoxyItemize}
\item input\+\_\+1\+: the input always at index 0
\item input\+\_\+2\+: the input always at index 1
\end{DoxyItemize}
\item \# of arguments\+: 1
\begin{DoxyItemize}
\item C\+T\+H\+\_\+\+P\+A\+R\+A\+M\+\_\+\+T\+Y\+P\+E\+\_\+P
\end{DoxyItemize}
\item \# of output tensors\+: 1
\begin{DoxyItemize}
\item The output tensor should just has 1 element
\end{DoxyItemize}
\end{DoxyItemize}

Note\+: does not support boradcast 